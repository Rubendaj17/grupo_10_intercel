<!DOCTYPE html>
<html lang="en">
<head>
    <%- include ('../partials/head') %> 
    <title>Intercel - Editar producto</title>
    <link rel="stylesheet" href="/css/NewEditProduct.css">
    <link rel="stylesheet" href="/css/headerFooter.css">
</head>
<body>
    <!-- HEADER -->
    <%- include('../partials/header') %>

        <div class="container">

        <a href="/"> <img src="/images/logos/Logo.svg" width="200" class="logoIntercel"> </a>
        <h2>Editar producto</h2>
            <form class="createForm" action="/products/<%=cellphoneToEdit.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                <br>
                <div class="formControl">
                    
                    <label>Marca</label>
                    
                    <input value="<%=brandToUse.name%>" type="text" name="brand" class="inputControl" >

                    <label>Modelo</label>
                    
                    <input value="<%=cellphoneToEdit.model.model %>" type="text" name="model" class="inputControl" required>

                    <label>Color</label>
                    <select name="color" id="color">
                        <% colorList.forEach(color => { %>        
                            <option value="<%=color.id%>"<%= cellphoneToEdit.color.id === color.id ? "selected": "" %>><%= color.name %> </option>     
                        <% }) %> 
                    </select>        

                    <label>Imagen principal</label>
                    
                    <div class="imgInput">
                        <div class="currentImage">
                            <img src="/images/cellphones/<%= brandToUse.name %>/<%= cellphoneToEdit.model.model %>/<%= cellphoneToEdit.imageOne%>" alt="">
                        </div>  
                        <div>
                            <input type="file" name="mainImage" accept = ".jpg, .png" class="inputControl" required multiple>
                        </div>                                    
                    </div>

                    <label>Imagenes secundarias</label>
                    
                    <div class="secondaryImage">
                        <img src="/images/cellphones/<%= brandToUse.name %>/<%= cellphoneToEdit.model.model %>/<%= cellphoneToEdit.imageTwo%>" alt="<%= cellphoneToEdit.imageTwo%>">
                    </div> 
                    <input type="file" name="images" accept = ".jpg, .png" class="inputControl " required multiple >
                
                    <label>Precio</label>
                    <input value="<%= locals.errors ? userInfo : cellphoneToEdit.price%>" type="number" name="price" class="inputControl" minlength="1">
                    <p class="errorMsg invisible"><%= locals.errors ? errors.price.msg : ""%> </p>
                
                    <label>Almacenamiento</label>
                    <select name="ram" id="ram">
                        <% ramList.forEach(ram => { %>        
                            <option value="<%=ram.id%>"<%= cellphoneToEdit.ram.id === ram.id ? "selected": "" %>><%= ram.storage %> </option>     
                        <% }) %> 
                    </select> 
                
                    <label for="">Este producto esta en oferta?</label>
                    <div class="formRadio">
                        <input type="radio" name="offer" value='1' <%= cellphoneToEdit.offer == '1' ? 'checked': '' %> />Si
                        <input type="radio" name="offer" value='0' <%= cellphoneToEdit.offer == '0' ? 'checked': '' %> /> No
                    </div>
                
                </div>
            
                <button type="submit" class="formButton">Guardar cambios</button>
            
            </form>
        </div>


    <!-- FOOTER -->
    <footer>
        <%- include('../partials/footer') %>
    </footer>
    
</body>
</html>